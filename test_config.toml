# Test config file for robust Vaisala listener.

[common]

# debug_level can be ALL, INFO, WARNINGS, or ERRORS.
#  ALL prints debug messages, routine information, warnings and errors.
#  INFO prints routube information and higher.
#  WARNINGS prints only warnings and errors.
#  ERRORS prints only error messages.

debug_level = "ALL"
source = "network"


# SETTINGS FOR THE UPLOADER

[uploader]

# Settings for the InfluxDB database uploader.
host = "localhost"
port = 8086
database = "vaisalatest"
batch_size = 3
backup = true
backup_file = "backups.txt"



# SETTINGS FOR LOCAL TCP/IP SERVER

[broadcast]

active = true
port = 32222
max_connections = 5



# SETTINGS FOR THE LISTENER

[listener.network]

# These settings are used when common.source is set to "network"
host = "localhost"
port = 42222
timeout = 10


[listener.serial]

# These settings are used when common.source is set to "serial".
device = "/dev/ttyUSB0"
timeout = 60



# SETTINGS FOR THE PARSER

[parser.variables]

# These map variable names in the Vaisala broadcast to variables names
# in the InfluxDB database.
TAAVG1M = "temperature"
PR = "pressure"
WD = "wind_dir"
WS = "wind_speed"
SNOWDEPTH = "snow_depth"
# TODO: add the rest


[parser.tags]

# Any string variables defined here will be used as tags in the InfluxDB database.
station = "vaisala"



# SETTINGS FOR THE DISK WRITER

[writer]

active = false
path = "./data"
variables = ["PR"]
